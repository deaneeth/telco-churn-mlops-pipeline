{
  "dag_simulation": {
    "dag_id": "telco_churn_prediction_pipeline",
    "status": "ok",
    "execution_method": "direct_script_execution",
    "airflow_native_support": false,
    "windows_compatibility_note": "Airflow not natively supported on Windows - used direct script execution"
  },
  "task_results": {
    "preprocess": "ok",
    "train": "ok",
    "inference": "ok"
  },
  "output_validations": {
    "preprocess_output": true,
    "train_output": true,
    "inference_output": true,
    "mlflow_runs": true
  },
  "detailed_task_results": {
    "preprocess": {
      "status": "ok",
      "exit_code": 0,
      "stdout": "[INFO] Starting preprocessing pipeline...\n[INFO] Loading data from data\\raw\\Telco-Customer-Churn.csv\n   Dataset shape: (7043, 21)\n[INFO] Column Information:\n   Numeric columns (4): ['SeniorCitizen', 'tenure', 'MonthlyCharges', 'TotalCharges']\n   Categorical columns (15): ['gender', 'Partner', 'Dependents', 'PhoneService', 'MultipleLines', 'InternetService', 'OnlineSecurity', 'OnlineBackup', 'DeviceProtection', 'TechSupport', 'StreamingTV', 'StreamingMovies', 'Contract', 'PaperlessBilling', 'PaymentMethod']\n[INFO] Building and fitting preprocessor...\n   Original features: 19\n   Transformed features: 45\n   Feature names generated: 45\n[SUCCESS] Saved preprocessor to artifacts\\models\\preprocessor.joblib\n[SUCCESS] Saved feature names to artifacts\\models\\feature_names.json\n\n[SUCCESS] Preprocessing completed successfully!\n   Preprocessor saved to: artifacts/models/preprocessor.joblib\n   Transformed data shape: (7043, 45)\n   Total features after transformation: 45\n\n[TEST] Testing preprocessor loading...\n[SUCCESS] Loaded preprocessor from artifacts\\models\\preprocessor.joblib\n   [SUCCESS] Preprocessor loaded successfully!\n",
      "stderr": "",
      "execution_time": "2025-09-24T17:59:03.385146"
    },
    "train": {
      "status": "ok",
      "exit_code": 0,
      "stdout": "\ud83d\ude80 Starting ML training pipeline with MLflow tracking...\n\ud83d\udccb MLflow run ID: 16525e7373414763a2db1732c420af85\n\ud83d\udcc2 Loading data from data/raw/Telco-Customer-Churn.csv\n   Dataset shape: (7043, 21)\n\ud83d\udd27 Converting TotalCharges to numeric...\n   \u26a0\ufe0f  Found 11 non-numeric TotalCharges values (converted to NaN)\n   Features: 19 columns\n   Target: Churn\n   Target distribution: {0: np.int64(5174), 1: np.int64(1869)}\n   Churn rate: 26.54%\n\u2705 Data preparation completed\n\u2702\ufe0f  Splitting data (stratified by Churn)...\n   Train set: 5634 samples, churn rate: 26.54%\n   Test set:  1409 samples, churn rate: 26.54%\n\ud83d\udce6 Loading preprocessor from artifacts/models/preprocessor.joblib\n\u2705 Preprocessor loaded successfully\n\ud83d\udd27 Building ML pipeline...\n   \u2705 Pipeline created with RandomForestClassifier\n   Parameters: n_estimators=100, max_depth=10, random_state=42\n\ud83d\ude80 Training pipeline with MLflow tracking...\n   Training set size: (5634, 19)\n   Test set size: (1409, 19)\n   \u2705 Training completed\n\ud83d\udcca Evaluating performance...\n\ud83d\udcdd Logging parameters to MLflow...\n\ud83d\udcca Logging metrics to MLflow...\n\ud83d\udd27 Logging model to MLflow...\n   Training Results:\n      Accuracy: 0.8607\n      ROC AUC:  0.9373\n   Test Results:\n      Accuracy: 0.8091\n      ROC AUC:  0.8410\n   Top 10 Feature Importances:\n      tenure: 0.1370\n      TotalCharges: 0.1294\n      Contract_Month-to-month: 0.0945\n      MonthlyCharges: 0.0818\n      InternetService_Fiber optic: 0.0572\n      OnlineSecurity_No: 0.0544\n      PaymentMethod_Electronic check: 0.0470\n      TechSupport_No: 0.0424\n      Contract_Two year: 0.0281\n      OnlineBackup_No: 0.0210\n\ud83d\udcbe Saving artifacts...\n   \u2705 Pipeline saved to artifacts/models/sklearn_pipeline_mlflow.joblib\n   \u2705 Metrics saved to artifacts/metrics/sklearn_metrics_mlflow.json\n   \u2705 Artifacts logged to MLflow\n\n\ud83c\udf89 Training completed successfully!\n   Final Test Accuracy: 0.8091\n   Final Test ROC AUC:  0.8410\n   MLflow Run ID: 16525e7373414763a2db1732c420af85\n",
      "stderr": "2025/09/24 17:59:07 WARNING mlflow.models.model: `artifact_path` is deprecated. Please use `name` instead.\n2025/09/24 17:59:13 WARNING mlflow.models.model: Model logged without a signature and input example. Please set `input_example` parameter when logging the model to auto infer the model signature.\nRegistered model 'telco_churn_rf_model' already exists. Creating a new version of this model...\nCreated version '6' of model 'telco_churn_rf_model'.\n",
      "execution_time": "2025-09-24T17:59:14.647569"
    },
    "inference": {
      "status": "ok",
      "exit_code": 0,
      "stdout": "\n\ud83d\udcc8 Prediction Summary:\n   Total customers: 100\n   Predicted churners: 22\n   Churn rate: 22.00%\n   Average churn probability: 0.2713\n",
      "stderr": "2025-09-24 17:59:15,644 - INFO - \ud83d\ude80 Starting batch prediction pipeline...\n2025-09-24 17:59:15,648 - INFO - \u2705 Loaded 100 records from data\\processed\\sample.csv\n2025-09-24 17:59:16,753 - INFO - \u2705 Model loaded from artifacts\\models\\sklearn_pipeline.joblib\n2025-09-24 17:59:16,823 - INFO - \u2705 Generated predictions for 100 records\n2025-09-24 17:59:16,824 - INFO - \ud83d\udcca Predicted churn rate: 22.00%\n2025-09-24 17:59:16,827 - INFO - \u2705 Predictions saved to artifacts\\predictions\\batch_preds.csv\n2025-09-24 17:59:16,827 - INFO - \ud83c\udf89 Batch prediction pipeline completed successfully!\n",
      "execution_time": "2025-09-24T17:59:17.000279"
    }
  },
  "fixes_made": [],
  "execution_timestamp": "2025-09-24T17:59:17.000946"
}